function Swipe(r,e){function x(){k=c.children;C=k.length;2>k.length&&(e.continuous=!1);p.transitions&&e.continuous&&3>k.length&&(c.appendChild(k[0].cloneNode(!0)),c.appendChild(c.children[1].cloneNode(!0)),k=c.children);m=Array(k.length);d=r.getBoundingClientRect().width||r.offsetWidth;c.style.width=k.length*d+"px";for(var b=k.length;b--;){var q=k[b];q.style.width=d+"px";q.setAttribute("data-index",b);p.transitions&&(q.style.left=b*-d+"px",g(b,a>b?-d:a<b?d:0,0))}e.continuous&&p.transitions&&(g(h(a-
1),-d,0),g(h(a+1),d,0));p.transitions||(c.style.left=a*-d+"px");r.style.visibility="visible"}function y(){e.continuous?w(a+1):a<k.length-1&&w(a+1)}function h(b){return(k.length+b%k.length)%k.length}function w(b,q){if(a!=b){if(p.transitions){var c=Math.abs(a-b)/(a-b);if(e.continuous){var f=c,c=-m[h(b)]/d;c!==f&&(b=-c*k.length+b)}for(f=Math.abs(a-b)-1;f--;)g(h((b>a?b:a)-f-1),d*c,0);b=h(b);g(a,d*c,q||n);g(b,0,q||n);e.continuous&&g(h(b-c),-(d*c),0)}else b=h(b),G(a*-d,b*-d,q||n);a=b;c=e.callback&&e.callback(a,
k[a]);setTimeout(c||z,0)}}function g(b,a,c){s(b,a,c);m[b]=a}function s(b,a,c){if(b=(b=k[b])&&b.style)b.webkitTransitionDuration=b.MozTransitionDuration=b.msTransitionDuration=b.OTransitionDuration=b.transitionDuration=c+"ms",b.webkitTransform="translate("+a+"px,0)translateZ(0)",b.msTransform=b.MozTransform=b.OTransform="translateX("+a+"px)"}function G(b,d,f){if(f)var g=+new Date,h=setInterval(function(){var l=+new Date-g;l>f?(c.style.left=d+"px",t&&(A=setTimeout(y,t)),e.transitionEnd&&e.transitionEnd.call(event,
a,k[a]),clearInterval(h)):c.style.left=Math.floor(l/f*100)/100*(d-b)+b+"px"},4);else c.style.left=d+"px"}function u(){t=0;clearTimeout(A)}var z=function(){},p={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(b){var a=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"],c;for(c in a)if(void 0!==b.style[a[c]])return!0;return!1}(document.createElement("swipe"))};if(r){var c=
r.children[0],k,m,d,C;e=e||{};var a=parseInt(e.startSlide,10)||0,n=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var t=e.auto||0,A,D,E,F,f,B,v,l={handleEvent:function(b){switch(b.type){case "touchstart":this.start(b);break;case "touchmove":this.move(b);break;case "touchend":var a=this.end(b);setTimeout(a||z,0);break;case "webkitTransitionEnd":case "msTransitionEnd":case "oTransitionEnd":case "otransitionend":case "transitionend":a=this.transitionEnd(b);setTimeout(a||z,0);break;case "resize":setTimeout(x||
z,0)}e.stopPropagation&&b.stopPropagation()},start:function(a){a=a.touches[0];D=a.pageX;E=a.pageY;F=+new Date;B=f=v=void 0;c.addEventListener("touchmove",this,!1);c.addEventListener("touchend",this,!1)},move:function(b){if(!(1<b.touches.length||b.scale&&1!==b.scale)){e.disableScroll&&b.preventDefault();var c=b.touches[0];f=c.pageX-D;B=c.pageY-E;"undefined"==typeof v&&(v=!!(v||Math.abs(f)<Math.abs(B)));v||(b.preventDefault(),u(),e.continuous?(s(h(a-1),f+m[h(a-1)],0),s(a,f+m[a],0),s(h(a+1),f+m[h(a+
1)],0)):(f/=!a&&0<f||a==k.length-1&&0>f?Math.abs(f)/d+1:1,s(a-1,f+m[a-1],0),s(a,f+m[a],0),s(a+1,f+m[a+1],0)))}},end:function(b){b=250>Number(+new Date-F)&&20<Math.abs(f)||Math.abs(f)>d/2;var q=!a&&0<f||a==k.length-1&&0>f;e.continuous&&(q=!1);var p=0>f;v||(b&&!q?(p?(e.continuous?(g(h(a-1),-d,0),g(h(a+2),d,0)):g(a-1,-d,0),g(a,m[a]-d,n),g(h(a+1),m[h(a+1)]-d,n),a=h(a+1)):(e.continuous?(g(h(a+1),d,0),g(h(a-2),-d,0)):g(a+1,d,0),g(a,m[a]+d,n),g(h(a-1),m[h(a-1)]+d,n),a=h(a-1)),e.callback&&e.callback(a,k[a])):
e.continuous?(g(h(a-1),-d,n),g(a,0,n),g(h(a+1),d,n)):(g(a-1,-d,n),g(a,0,n),g(a+1,d,n)));c.removeEventListener("touchmove",l,!1);c.removeEventListener("touchend",l,!1)},transitionEnd:function(b){parseInt(b.target.getAttribute("data-index"),10)==a&&(t&&(A=setTimeout(y,t)),e.transitionEnd&&e.transitionEnd.call(b,a,k[a]))}};x();t&&(A=setTimeout(y,t));p.addEventListener?(p.touch&&c.addEventListener("touchstart",l,!1),p.transitions&&(c.addEventListener("webkitTransitionEnd",l,!1),c.addEventListener("msTransitionEnd",
l,!1),c.addEventListener("oTransitionEnd",l,!1),c.addEventListener("otransitionend",l,!1),c.addEventListener("transitionend",l,!1)),window.addEventListener("resize",l,!1)):window.onresize=function(){x()};return{setup:function(){x()},slide:function(a,c){u();w(a,c)},prev:function(){u();e.continuous?w(a-1):a&&w(a-1)},next:function(){u();y()},stop:function(){u()},getPos:function(){return a},getNumSlides:function(){return C},kill:function(){u();c.style.width="";c.style.left="";for(var a=k.length;a--;){var d=
k[a];d.style.width="";d.style.left="";p.transitions&&s(a,0,0)}p.addEventListener?(c.removeEventListener("touchstart",l,!1),c.removeEventListener("webkitTransitionEnd",l,!1),c.removeEventListener("msTransitionEnd",l,!1),c.removeEventListener("oTransitionEnd",l,!1),c.removeEventListener("otransitionend",l,!1),c.removeEventListener("transitionend",l,!1),window.removeEventListener("resize",l,!1)):window.onresize=null}}}}
(window.jQuery||window.Zepto)&&function(r){r.fn.Swipe=function(e){return this.each(function(){r(this).data("Swipe",new Swipe(r(this)[0],e))})}}(window.jQuery||window.Zepto);