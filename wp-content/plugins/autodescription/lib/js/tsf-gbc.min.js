'use strict';window.tsfGBC=function(a){function b(p){return h.getEditedPostAttribute(p)}function c(){k={title:b('title'),link:h.getPermalink(),content:b('content'),excerpt:b('excerpt'),visibility:h.getEditedPostVisibility()}}function d(p){return k[p]||null}function e(){let p=k;c(),p.title!==k.title&&l('title'),p.link!==k.link&&l('link'),p.content!==k.content&&l('content'),p.excerpt!==k.excerpt&&l('excerpt'),p.visibility!==k.visibility&&l('visibility')}function f(){!m&&(h.isSavingPost()||h.isAutosavingPost())?m=!0:m&&(h.didPostSaveRequestSucceed()?g():m=!1)}function g(){m=!1,h.isPostSavingLocked()?(n=!0,i(g,500)):!n&&a(document).trigger('tsf-gutenberg-saved-document')}const h=wp.data.select('core/editor'),{debounce:i}=lodash;let j='undefined'!=typeof tsfGBCL10n&&tsfGBCL10n,k;const l=p=>{a(document).trigger('tsf-updated-gutenberg-'+p,[d(p)])};let m=!1,n=!1;const o=()=>{wp.data.subscribe(i(e,300)),wp.data.subscribe(f),setTimeout(()=>{c(),l('title'),l('link'),l('content'),l('excerpt'),l('visibility'),a(document).trigger('tsf-subscribed-to-gutenberg')})};return a.extend({load:function(){a(document.body).on('tsf-onload',o)}},{triggerUpdate:l})}(jQuery),jQuery(window.tsfGBC.load);
